/*! For license information please see main.1ef4be3a.chunk.js.LICENSE.txt */
(this.webpackJsonpgrain=this.webpackJsonpgrain||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){CanvasRenderingContext2D.prototype.curve=CanvasRenderingContext2D.prototype.curve||function(e,t,n,i){"use strict";t="number"===typeof t?t:.5,n=n||25;var a,o=1,c=e.length,r=0,s=new Float32Array((c-2)*n+2+(i?2*n:0)),l=new Float32Array(4*(n+2)),u=4;for(a=e.slice(0),i?(a.unshift(e[c-1]),a.unshift(e[c-2]),a.push(e[0],e[1])):(a.unshift(e[1]),a.unshift(e[0]),a.push(e[c-2],e[c-1])),l[0]=1;o<n;o++){var d=o/n,h=d*d,f=h*d,g=2*f,b=3*h;l[u++]=g-b+1,l[u++]=b-g,l[u++]=f-2*h+d,l[u++]=f-h}function j(e,i,a){for(var o,c=2;c<a;c+=2){var l=e[c],u=e[c+1],d=e[c+2],h=e[c+3],f=(d-e[c-2])*t,g=(h-e[c-1])*t,b=(e[c+4]-l)*t,j=(e[c+5]-u)*t;for(o=0;o<n;o++){var v=o<<2,x=i[v],y=i[v+1],O=i[v+2],p=i[v+3];s[r++]=x*l+y*d+O*f+p*b,s[r++]=x*u+y*h+O*g+p*j}}}for(l[++u]=1,j(a,l,c),i&&((a=[]).push(e[c-4],e[c-3],e[c-2],e[c-1]),a.push(e[0],e[1],e[2],e[3]),j(a,l,4)),c=i?0:e.length-2,s[r++]=e[c],s[r]=e[c+1],o=0,c=s.length;o<c;o+=2)this.lineTo(s[o],s[o+1]);return s}},function(e,t){var n=function(e){this.smoothing=e||.5,this.buffer=[],this.bufferMaxSize=10};n.prototype={init:function(e){for(var t=0;t<e.length;t++)this.__push(e[t]);return this.buffer},__push:function(e){var t=this.buffer.length===this.bufferMaxSize?this.buffer.shift():0;return this.buffer.push(e),t},next:function(e){var t=this,n=this.__push(e),i=this.buffer.reduce((function(e,n){return t.smoothing*n+(1-t.smoothing)*e}),n);return this.buffer[this.buffer.length-1]=i,i},smoothArray:function(e){for(var t=e[0],n=1;n<e.length;n++){t+=(e[n]-t)*this.smoothing,e[n]=Math.round(t)}return e}},e.exports=new n},function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(1),o=n(5),c=n.n(o),r=(n(17),n(18),n(2)),s=(n(19),n.p+"static/media/stones.f3314072.jpg"),l=n(8),u=n.n(l);n(26);var d=function(e){var t=Object(a.useState)("0.42em"),n=Object(r.a)(t,2),o=n[0],c=(n[1],{stroke:"#554444",opacity:"0.3",fill:"none",strokeWidth:o}),s={transform:"translate(-2.5em, -2.5em)",top:"30px",preserveAspectRatio:"none"};return Object(a.useEffect)((function(){console.log("useeffect indicator with x, y "+e.x1+", "+e.y1)})),Object(i.jsxs)("div",{id:"indicator",style:{position:"relative",width:"100%",height:"100%"},children:[Object(i.jsx)("svg",{style:{position:"absolute"},width:"100%",height:"100%",children:Object(i.jsx)("line",{id:"line",style:{position:"absolute",stroke:"#6b6b6b",strokeWidth:"0.2em",opacity:"0.7"},x1:e.x1+0,y1:e.y1+0,x2:e.x2+0,y2:e.y2+0})}),Object(i.jsx)(u.a,{id:"draggable1",axis:"both",handle:".handle",position:{x:e.x1,y:e.y1},scale:1,onDrag:function(t,n){e.xyChange(0,n.x,n.y)},children:Object(i.jsx)("div",{id:"handle1",children:Object(i.jsx)("svg",{style:s,className:"handle",width:"5em",height:"5em",viewBox:"56 56 112 112",children:Object(i.jsx)("circle",{style:c,cx:"112",cy:"112",r:"25"})})})}),Object(i.jsx)(u.a,{id:"draggable2",axis:"both",handle:".handle",position:{x:e.x2,y:e.y2},scale:1,onDrag:function(t,n){e.xyChange(1,n.x,n.y)},children:Object(i.jsx)("div",{id:"handle2",children:Object(i.jsx)("svg",{style:s,className:"handle",width:"5em",height:"5em",viewBox:"0 0 112 112",children:Object(i.jsx)("circle",{style:c,cx:"56",cy:"56",r:"25"})})})})]})};n(27);var h=function(e){return Object(a.useEffect)((function(){!function(){var e=document.getElementById("canvasPic").getContext("2d");e.clearRect(0,0,120,400),e.fillStyle="#0000F2",e.fillRect(0,0,1120,364);var t=new Image;t.src=s,t.onload=function(){e.drawImage(t,0,0,2500,600,0,0,2500,600)},e.strokeStyle="#AA9999",e.lineWidth=3,e.moveTo(50,300),e.lineTo(90,210),e.stroke()}()}),[]),Object(i.jsxs)("div",{id:"bildet",children:[Object(i.jsx)("canvas",{ref:e.passRef,id:"canvasPic",width:"1120",height:"364"}),Object(i.jsx)(d,{frameWidth:e.frameWidth,bildetHeight:e.bildetHeight,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,xyChange:e.xyChange})]})};n(28);var f=function(e){return Object(i.jsxs)("div",{className:"graph",children:[" ",Object(i.jsx)("canvas",{ref:e.passRef,id:"drawingCanvas",width:e.drawingCanvasWidth,height:e.drawingCanvasHeight}),Object(i.jsx)("svg",{id:"playIndexLine",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:Object(i.jsx)("line",{id:"line",x1:"50",y1:"0",x2:"50",y2:"100"})})]})};n(29);var g=function(e){return Object(i.jsx)("div",{id:"ani",className:"animator",children:Object(i.jsx)("svg",{onClick:e.animate,id:"playTriangle",viewBox:"0 0 85 100",children:Object(i.jsx)("polygon",{points:"0,0 0,100 85,50"})})})};n(30),n(31);var b=n(3);var j=function(){var e=Object(a.useState)(100),t=Object(r.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(100),s=Object(r.a)(c,2),l=s[0],u=s[1],d=Object(a.useState)(null),j=Object(r.a)(d,2),v=j[0],x=j[1],y=Object(a.useState)(null),O=Object(r.a)(y,2),p=O[0],m=O[1],w=Object(a.useState)(null),C=Object(r.a)(w,2),S=(C[0],C[1],Object(a.useRef)(null)),I=Object(a.useRef)(null),B=Object(a.useState)(100),R=Object(r.a)(B,2),k=R[0],E=R[1],A=Object(a.useState)(200),W=Object(r.a)(A,2),F=W[0],L=W[1],T=Object(a.useState)(300),D=Object(r.a)(T,2),N=D[0],_=D[1],H=Object(a.useState)(200),z=Object(r.a)(H,2),M=z[0],P=z[1],J=Object(a.useState)(.57),U=Object(r.a)(J,2),$=U[0],q=U[1],G=Object(a.useState)(.8),K=Object(r.a)(G,2),Q=K[0],V=K[1],X=Object(a.useState)(.7),Y=Object(r.a)(X,2),Z=Y[0],ee=Y[1],te=Object(a.useState)(.5),ne=Object(r.a)(te,2),ie=ne[0],ae=ne[1],oe=Object(a.useState)(3),ce=Object(r.a)(oe,2),re=ce[0],se=(ce[1],100),le=Object(a.useState)(0),ue=Object(r.a)(le,2),de=(ue[0],ue[1]),he=[];function fe(){o(document.getElementById("frame").getBoundingClientRect().width),u(document.getElementById("bildet").getBoundingClientRect().height)}function ge(){console.log("plot");var e=S.current.getContext("2d"),t=I.current.getContext("2d");t.clearRect(0,0,v,p),t.strokeStyle="#AA9999",t.lineWidth=1,t.lineCap="round",t.beginPath();for(var i=k*(1120/n),a=F*(1120/n),o=N*(1120/n),c=M*(1120/n),r=255-e.getImageData(i,a,1,1).data[0],s=255-e.getImageData(o,c,1,1).data[0],l=0;l<se;l++){var u=e.getImageData(i+(o-i)/se*l,a+(c-a)/se*l,1,1).data;he.push(255-u[1])}he=function(e,t,n){for(var i=0;i<30;i++)e.unshift(t);for(i=0;i<30;i++)e.push(n);return e=Object(b.a)(e,re),e=Object(b.a)(e,re),e=Object(b.a)(e,re),e=Object(b.a)(e,re),(e=Object(b.a)(e,re)).splice(0,30),e}(he,r,s),t.moveTo(0,he[0]/255*p);for(var d=1;d<se;d++)t.lineTo(v/se*d,he[d]/255*p);t.lineTo(v,he[100]/255*p),t.stroke(),de(he[0])}return Object(a.useEffect)((function(){x(document.getElementById("drawingCanvas").getBoundingClientRect().width),m(document.getElementById("drawingCanvas").getBoundingClientRect().height),function(e,t){var n=S.current.getContext("2d"),i=I.current.getContext("2d");n.fillStyle="#FAFAFA",i.fillStyle="#FAF2F2",i.fillRect(0,0,e,t),i.strokeStyle="#AA9999",i.lineWidth=2}(v,p),window.addEventListener("resize",fe),fe(),setTimeout((function(){E($*n),L(l*Q),_(n*Z),P(l*ie)}),250)}),[]),Object(a.useEffect)((function(){ge(),E($*n),L(l*Q),_(n*Z),P(l*ie)})),Object(i.jsxs)("div",{id:"frame",children:[Object(i.jsx)(h,{plotLine:ge,passRef:S,x1:k,y1:F,x2:N,y2:M,xyChange:function(e,t,i){0==e&&(q(t/n),E(n*$),V(i/l),L(n*Q)),1==e&&(ee(t/n),_(n*Z),ae(i/l),P(n*ie))},frameWidth:n,bildetHeight:l}),Object(i.jsx)(f,{passRef:I,drawingCanvasWidth:v,drawingCanvasHeight:p}),Object(i.jsx)(g,{animate:function(){document.getElementById("playIndexLine").style.visibility="visible",console.log(document.getElementById("playIndexLine").style.visibility);var e=setInterval((function(){document.getElementById("playIndexLine").style.transform="translate("+n/se*i+"px)",document.getElementById("playTriangle").style.transform="translate("+-1*(he[i]/255-a/255)*(n/2-30)+"px)",1===t&&i++;0===t&&i--;i===se&&(t=0);-1===i&&(t=1,clearInterval(e),document.getElementById("playIndexLine").style.visibility="hidden")}),15),t=1,i=0,a=he[0]}})]})};var v=function(){return Object(i.jsx)("div",{id:"wrapperDiv",children:Object(i.jsx)(j,{})})},x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(i.jsx)(v,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/concrete-transition",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/concrete-transition","/service-worker.js");x?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):y(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):y(e)}))}}()}],[[32,1,2]]]);
//# sourceMappingURL=main.1ef4be3a.chunk.js.map